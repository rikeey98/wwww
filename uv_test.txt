$pattern = '^(UV_|PIP_|PYTHON|VIRTUAL_ENV$|CONDA|HTTP_PROXY$|HTTPS_PROXY$|ALL_PROXY$|NO_PROXY$|REQUESTS_CA_BUNDLE$|SSL_CERT_FILE$|SSL_CERT_DIR$|CURL_CA_BUNDLE$|PATH$)'

Get-ChildItem Env: |
  Where-Object { $_.Name -match $pattern } |
  Sort-Object Name |
  ForEach-Object { "{0}={1}" -f $_.Name, $_.Value } |
  Set-Content -Encoding UTF8 .\env_windows_uv.txt

# 확인
Get-Item .\env_windows_uv.txt
Get-Content .\env_windows_uv.txt | Select-Object -First 30


???
$keys = @(
  '^UV_',
  '^PIP_',
  '^PYTHON',
  '^VIRTUAL_ENV$',
  '^CONDA',
  '^HTTP_PROXY$','^HTTPS_PROXY$','^ALL_PROXY$','^NO_PROXY$',
  '^REQUESTS_CA_BUNDLE$','^SSL_CERT_FILE$','^SSL_CERT_DIR$','^CURL_CA_BUNDLE$',
  '^PATH$'
)

Get-ChildItem Env: |
  Where-Object {
    $name = $_.Name
    $keys | Where-Object { $name -match $_ } | Select-Object -First 1
  } |
  Sort-Object Name |
  ForEach-Object { "{0}={1}" -f $_.Name, $_.Value } |
  Set-Content -Encoding UTF8 .\env_windows_uv.txt

# 확인
Get-Item .\env_windows_uv.txt


--------------------------------------------------------------------------------------
# uv/파이썬/프록시/인증서 관련 환경변수만 추려서 저장
{
  echo "### ENV (filtered)"
  env | egrep -i '^(UV_|PIP_|PYTHON|VIRTUAL_ENV=|CONDA|HTTP_PROXY=|HTTPS_PROXY=|ALL_PROXY=|NO_PROXY=|REQUESTS_CA_BUNDLE=|SSL_CERT_FILE=|SSL_CERT_DIR=|CURL_CA_BUNDLE=|PATH=)' | sort

  echo
  echo "### uv"
  command -v uv || true
  uv --version || true
  uv python find || true
  uv config list || true

  echo
  echo "### python"
  command -v python3 || true
  python3 --version || true

  echo
  echo "### cert store (common)"
  ls -l /etc/ssl/certs/ca-certificates.crt 2>/dev/null || true
  ls -l /usr/local/share/ca-certificates 2>/dev/null || true
} > env_wsl_uv.txt
